document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector('.filter--search-input, input[type="text"][placeholder*="Search"], input[type="text"][aria-label*="Search"]'),t=document.querySelector(".filter--options"),n=document.querySelector(".btn--reset");function r(){const n=e?e.value.toLowerCase().trim():"",r=document.querySelector('.filter--options input[type="radio"]:checked')?.value;console.log("Filtering with:",{searchTerm:n,selectedCategory:r});const c=document.querySelectorAll(".hub-grid .w-dyn-item, .hub-grid > div, .hub-grid > a, .hub-grid .collection-item");console.log("Found items:",c.length);let l=!0;c.forEach(e=>{const t=e.querySelector(".heading-28"),c=t?t.textContent.toLowerCase():"",o=e.querySelector(".tag-category"),i=o?o.textContent.trim():"",s=!n||c.includes(n),u=!r||i.toLowerCase()===r.toLowerCase(),a=s&&u;e.style.display=a?"":"none",e.classList.remove("first-visible"),a&&l&&(e.classList.add("first-visible"),l=!1)})}function c(){e&&(e.value=""),document.querySelectorAll('.filter--options input[type="radio"]').forEach(e=>e.checked=!1);const t=document.querySelector(".filter--select-text");t&&(t.textContent="Category"),r()}console.log("Content Hub Filter initialized"),console.log("Search input found:",e),console.log("Category filter found:",t),console.log("Reset button found:",n),r(),function e(){const t=document.querySelector(".filter--select-wrapper");if(!t)return;const n=t.querySelector(".filter-select"),r=t.querySelector(".filter--options"),c=t.querySelector(".filter--select-text");n&&r&&c&&(r.style.display="none",n.addEventListener("click",function(e){e.stopPropagation(),r.style.display="block"===r.style.display?"none":"block"}),r.addEventListener("change",function(e){if(e.target&&e.target.matches('input[type="radio"]')){document.querySelectorAll('.filter--options input[type="radio"]').forEach(t=>{t!==e.target&&(t.checked=!1)}),c.textContent=e.target.nextElementSibling.textContent,r.style.display="none"}}),document.addEventListener("click",function(e){n.contains(e.target)||(r.style.display="none")},!0))}(),e?(e.addEventListener("input",r),console.log("Search input event listener attached")):console.warn("Search input not found - searching will not work"),t&&t.addEventListener("change",function(e){e.target&&e.target.matches('input[type="radio"]')&&(document.querySelectorAll('.filter--options input[type="radio"]').forEach(t=>{t!==e.target&&(t.checked=!1)}),r())}),n&&n.addEventListener("click",c)});
